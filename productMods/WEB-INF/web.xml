<?xml version="1.0" encoding="ISO-8859-1"?>

<!-- $This file is distributed under the terms of the license in /doc/license.txt$ -->

<web-app xmlns="http://java.sun.com/xml/ns/j2ee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
  version="2.4">

  <!-- Environment variables for the Vitro web application -->
  <!-- Example: -->
  <!-- <env-entry><env-entry-name>somename/required</env-entry-name> -->
  <!--            <description>optional desc </description> -->
  <!--            <env-entry-value>some kind of value, required</env-entry-value> -->
  <!--            <env-entry-type>(required)java.lang.String || java.lang.Integer ||  -->
  <!--            java.lang.Double || java.lang.Boolean || java.lang.Float</env-entry-type> -->
  <!-- </env-entry> -->

  <env-entry>
    <env-entry-name>jdbc/vitro/connectionType</env-entry-name>
    <!--
           				How to get a DataSource, Valid valies:
                        SERVER_XML_POOL gets a named DataSource connection from the
                        JNDI context, most likely that was set up tomcat/conf/server.xml
                        PROPERTIES_FILE_POOL makes a DataSource using properties from
                        a file in the classpath at /beans/connection.properties
           -->
    <!--            <env-entry-value>SERVER_XML_POOL</env-entry-value> -->
    <env-entry-type>java.lang.String</env-entry-type>
    <env-entry-value>PROPERTIES_FILE_POOL</env-entry-value>
  </env-entry>


  <env-entry>
    <env-entry-name>jdbc/vitro/namedDS</env-entry-name>
    <!--This is the name of the JNDI named DataSource for use with SERVER_XML_POOL-->
    <env-entry-type>java.lang.String</env-entry-type>
    <env-entry-value>mySharedDBPool</env-entry-value>
  </env-entry>
  <!-- end environment vars -->

  <!-- Listeners ****************************************************** -->

  <!-- Reads deploy.properties. Needs to run before almost all other listeners. -->
  <listener>
    <listener-class>edu.cornell.mannlib.vitro.webapp.config.ConfigurationPropertiesSetup</listener-class>
  </listener>

  <listener>
    <listener-class>edu.cornell.mannlib.vitro.webapp.config.RevisionInfoSetup</listener-class>
  </listener>

  <listener>
    <listener-class>edu.cornell.mannlib.vitro.webapp.email.FreemarkerEmailFactory$Setup</listener-class>
  </listener>

  <!-- DefaultThemeSetup needs to run before the JenaDataSourceSetup
       to allow creation of default portal and tab -->
  <listener>
    <listener-class>edu.cornell.mannlib.vitro.webapp.servlet.setup.DefaultThemeSetup</listener-class>
  </listener>

  <!-- experimental ModelMaker for ingest workflows - BJL 2008-06-01 -->
 

  <!-- Comment out this listener to run Vitro without a database -->
  <!-- If used, this listener must be run before JenaDataSourceSetup -->
  <listener>
    <listener-class>edu.cornell.mannlib.vitro.webapp.servlet.setup.JenaPersistentDataSourceSetup</listener-class>
  </listener>

  <!-- experimental JenaMulgaraBridge, replaces JenaPersistentDataSourceSetup. -->
  <!--     <listener>
 -->
  <!--     	<listener-class>
 -->
  <!--     		edu.cornell.mannlib.vitro.webapp.servlet.setup.JenaMulgaraBridgeSetup
 -->
  <!--     	</listener-class>
 -->
  <!--     </listener> -->

  <!-- This listener is required in order to use a Jena triple store (currently the only option) -->
  <listener>
    <listener-class>edu.cornell.mannlib.vitro.webapp.servlet.setup.JenaDataSourceSetup</listener-class>
  </listener>
  
  <listener>
    <listener-class>
        edu.cornell.mannlib.vitro.webapp.filestorage.backend.FileStorageSetup
    </listener-class>
  </listener> 
  
  <!-- Invokes a process to move any uploaded files into the new file storage system. -->
  <!-- Needs to run after FileStorageSetup and JenaDataSourceSetup. -->
  <!-- Should run before Pellet is set up. -->  
  <listener>
    <listener-class>
        edu.cornell.mannlib.vitro.webapp.servlet.setup.UpdateUploadedFiles
    </listener-class>
  </listener> 
 
  <!--  Update to the new UserAccounts model (1.3). Needs to run after JenaDataSourceSetup. -->
  <listener>
    <listener-class>
        edu.cornell.mannlib.vitro.webapp.servlet.setup.UpdateUserAccounts
    </listener-class>
  </listener>

  <!-- Invokes process to perform knowledge base updates to align with ontology changes if needed --> 
  <listener>
     <listener-class>edu.cornell.mannlib.vitro.webapp.servlet.setup.UpdateKnowledgeBase</listener-class>
  </listener>
  
  <!-- The following listener remains temporarily until SDB becomes the default triple store --> 
  <listener>
     <listener-class>edu.cornell.mannlib.vitro.webapp.servlet.setup.AttachSubmodels</listener-class>
  </listener>

  <!-- This listener sets up SimpleReasoner also in SDB mode. In SDB mode, Pellet is used for -->
  <!-- TBox reasoning and SimpleReasoner is used for ABox reasoning. In RDF mode, Pellet was -->
  <!-- used for both. -->
  <listener>
    <listener-class>edu.cornell.mannlib.vitro.webapp.servlet.setup.PelletReasonerSetup</listener-class>
  </listener>
  
  <!-- The following listener records all edit changes, in reified form, to another database model -->
  <!-- still at an experimental stage -->
  <!-- if used, this listener should be run after all other Jena-related listeners, to avoid logging unnecessary data and slowing the context startup process -->

  <!-- 
    <listener>
    	<listener-class>
    		edu.cornell.mannlib.vitro.webapp.servlet.setup.ModelAuditorSetup
    	</listener-class>
    </listener>    
-->

  <listener>
    <listener-class>edu.cornell.mannlib.vitro.webapp.auth.permissions.PermissionSetsLoader</listener-class>
  </listener>
 
  <listener>
    <listener-class> edu.cornell.mannlib.vitro.webapp.auth.policy.bean.PropertyRestrictionPolicyHelper$Setup
    </listener-class>
  </listener>
 
  <!--  vivo specific, must appear before other policies -->
  <listener>
    <listener-class> edu.cornell.mannlib.vivo.auth.policy.VivoPolicy$Setup</listener-class>
  </listener>
  
  <listener>
    <listener-class> edu.cornell.mannlib.vitro.webapp.auth.policy.setup.CommonPolicyFamilySetup
    </listener-class>
  </listener>

  <listener>
    <listener-class> edu.cornell.mannlib.vitro.webapp.auth.policy.RootUserPolicy$Setup</listener-class>
  </listener>

  <listener>
    <listener-class> edu.cornell.mannlib.vivo.auth.policy.SelfEditorRelationshipPolicy$Setup</listener-class>
  </listener>

  <listener>
    <listener-class> edu.cornell.mannlib.vitro.webapp.auth.policy.RestrictHomeMenuItemEditingPolicy$Setup</listener-class>
  </listener>

  <!-- The Solr index uses a "public" filter, so the PropertyRestrictionPolicyHelper must already be set up. -->
  <listener>
    <listener-class>
      edu.cornell.mannlib.vitro.webapp.search.solr.SolrSetup
    </listener-class>
  </listener>

  <listener>
    <listener-class>
        edu.cornell.mannlib.vitro.webapp.controller.freemarker.FreemarkerSetup
    </listener-class>
  </listener>

  <!-- On shutdown, this will kill the background thread started by Apache Commons File Upload -->
  <listener>
    <listener-class>
      org.apache.commons.fileupload.servlet.FileCleanerCleanup
    </listener-class>
  </listener>
  
  <listener>
    <listener-class>edu.cornell.mannlib.vitro.webapp.dao.jena.VClassGroupCache$Setup</listener-class>
   </listener>
   
  <!--
    <listener>
         <listener-class>
             edu.cornell.mannlib.vitro.webapp.auth.policy.setup.AlwaysAuthorizePolicySetup
        </listener-class>
    </listener>
-->

  <!--  vivo specific -->

  
  <!-- Filters ********************************************************** -->
  <!-- in 2.4 spec, filter chain order is first by filter-mapping <url-pattern> order in web.xml,
	 then filter-mapping <servlet-name> order in web.xml -->

  <filter>
    <filter-name>Session Timeout Limiting Filter</filter-name>
    <filter-class>edu.cornell.mannlib.vitro.webapp.filters.SessionTimeoutLimitingFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>Session Timeout Limiting Filter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>Character Set Encoding Filter</filter-name>
    <filter-class>edu.cornell.mannlib.vitro.webapp.filters.CharsetEncodingFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>Character Set Encoding Filter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>JSession Strip Filter</filter-name>
    <filter-class>edu.cornell.mannlib.vitro.webapp.filters.JSessionStripFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>JSession Strip Filter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>URL Rewriter Filter</filter-name>
    <filter-class>edu.cornell.mannlib.vitro.webapp.filters.URLRewriterFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>URL Rewriter Filter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>WebappDaoFactorySDBPrep</filter-name>
    <filter-class>edu.cornell.mannlib.vitro.webapp.filters.WebappDaoFactorySDBPrep</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>WebappDaoFactorySDBPrep</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>

  <filter>
    <filter-name>VitroRequestPrep</filter-name>
    <filter-class>edu.cornell.mannlib.vitro.webapp.filters.VitroRequestPrep</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>VitroRequestPrep</filter-name>
    <url-pattern>/*</url-pattern>
    <dispatcher>request</dispatcher>
    <dispatcher>forward</dispatcher>
  </filter-mapping>

   <filter>
    <filter-name>PageRoutingFilter</filter-name>
    <filter-class>edu.cornell.mannlib.vitro.webapp.filters.PageRoutingFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>PageRoutingFilter</filter-name>
    <url-pattern>/*</url-pattern>
    <dispatcher>request</dispatcher>
  </filter-mapping>
  
  <!--  Spring setup ****************************************************  -->
<!--
  <context-param>
	<param-name>contextConfigLocation</param-name>
	<param-value>/WEB-INF/baseConfig/*.xml, /WEB-INF/localConfig/*.xml</param-value>
  </context-param>
  
  <listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
  </listener>

  <servlet>
	<servlet-name>dispatcher</servlet-name>
	<servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
	 <init-param>
            <param-name>contextConfigLocation</param-name>
            <param-value>/WEB-INF/baseConfig/dispatcher-servlet.xml, /WEB-INF/localConfig/dispatcher-servlet.xml</param-value>
        </init-param>        
	<load-on-startup>2</load-on-startup>	
  </servlet>

  <servlet-mapping>
	<servlet-name>dispatcher</servlet-name>
	<url-pattern>/spring</url-pattern>
  </servlet-mapping>
    
    -->
  <!-- Servlets ********************************************************** -->
  <servlet>
    <!--adding only trimSpaces param to defaults to clean up html output-->
    <servlet-name>jsp</servlet-name>
    <servlet-class>org.apache.jasper.servlet.JspServlet</servlet-class>
    <init-param>
      <param-name>fork</param-name>
      <param-value>false</param-value>
    </init-param>
    <init-param>
      <param-name>xpoweredBy</param-name>
      <param-value>false</param-value>
    </init-param>
    <init-param>
      <param-name>trimSpaces</param-name>
      <param-value>true</param-value>
    </init-param>
    <load-on-startup>3</load-on-startup>
  </servlet><!--

  <servlet>
  	<servlet-name>ProcessRdfForm</servlet-name>
  	<servlet-class>edu.cornell.mannlib.vitro.webapp.edit.forms.ProcessRdfForm</servlet-class>
  </servlet>
  <servlet-mapping>
  	<servlet-name>ProcessRdfForm</servlet-name>
  	<url-pattern>/ProcessRdfForm</url-pattern>
  </servlet-mapping>

  -->
    <servlet>
  	<servlet-name>ProcessRdfFormController</servlet-name>
  	<servlet-class>edu.cornell.mannlib.vitro.webapp.edit.n3editing.controller.ProcessRdfFormController</servlet-class>
  </servlet>
  <servlet-mapping>
  	<servlet-name>ProcessRdfFormController</servlet-name>
  	<url-pattern>/edit/process</url-pattern>
  </servlet-mapping>
  
  <servlet>
  	<servlet-name>EditRequestDispatch</servlet-name>
  	<servlet-class>edu.cornell.mannlib.vitro.webapp.edit.n3editing.controller.EditRequestDispatchController</servlet-class>
  </servlet>
  <servlet-mapping>
  	<servlet-name>EditRequestDispatch</servlet-name>
  	<url-pattern>/editRequestDispatch</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>IndexController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.search.controller.IndexController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>IndexController</servlet-name>
    <url-pattern>/SearchIndex</url-pattern>
  </servlet-mapping>

  <servlet>
     <servlet-name>SimpleReasonerRecomputeController</servlet-name>
     <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.SimpleReasonerRecomputeController</servlet-class>
  </servlet>
  <servlet-mapping>
     <servlet-name>SimpleReasonerRecomputeController</servlet-name>
     <url-pattern>/RecomputeInferences</url-pattern>
  </servlet-mapping>
  
  <servlet>
     <servlet-name>SDBSetupController</servlet-name>
     <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.SDBSetupController</servlet-class>
  </servlet>
  <servlet-mapping>
     <servlet-name>SDBSetupController</servlet-name>
     <url-pattern>/sdbsetup</url-pattern>
  </servlet-mapping>

   <servlet>
    <servlet-name>MenuN3EditController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.MenuN3EditController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>MenuN3EditController</servlet-name>
    <url-pattern>/menuN3Editor</url-pattern>
  </servlet-mapping>
  
   <servlet>
    <servlet-name>MenuManagementController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.MenuManagementController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>MenuManagementController</servlet-name>
    <url-pattern>/editDisplayModel</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>MenuManagementEdit</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.MenuManagementEdit</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>MenuManagementEdit</servlet-name>
    <url-pattern>/processEditDisplayModel</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>InstitutionalInternalClassController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.InstitutionalInternalClassController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>InstitutionalInternalClassController</servlet-name>
    <url-pattern>/processInstitutionalInternalClass</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>ajaxSparqlQuery</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.ajax.SparqlQueryAjaxController</servlet-class>    
  </servlet>
  <servlet-mapping>
    <servlet-name>ajaxSparqlQuery</servlet-name>
    <url-pattern>/ajax/sparqlQuery</url-pattern>    
  </servlet-mapping>
  
  <servlet>
    <servlet-name>N3EditFormController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.N3EditFormController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>N3EditFormController</servlet-name>
    <url-pattern>/N3EditForm</url-pattern>
  </servlet-mapping>

<!-- This is the new navigation controller.  It is not ready for the 1.1 release
     see http://issues.library.cornell.edu/browse/NIHVIVO-597  
  <servlet>
  	<servlet-name>NavigationController</servlet-name>
  	<servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.NavigationController</servlet-class>
  </servlet>
  <servlet-mapping>
  	<servlet-name>NavigationController</servlet-name>
  	<url-pattern>/nav/*</url-pattern>
  </servlet-mapping>
  -->
  
  <servlet>
    <servlet-name>fetch</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.QueryServlet</servlet-class>
    <!--load-on-startup>2</load-on-startup-->
  </servlet>

  <servlet>
    <servlet-name>AboutController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.AboutController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>AboutController</servlet-name>
    <url-pattern>/about</url-pattern>
  </servlet-mapping>
   
  <servlet>
    <servlet-name>FreemarkerTestController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.TestController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>FreemarkerTestController</servlet-name>
    <url-pattern>/freemarkertest</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>FreemarkerSamplesController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.SamplesController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>FreemarkerSamplesController</servlet-name>
    <url-pattern>/freemarkersamples</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>SiteAdminController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.SiteAdminController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>SiteAdminController</servlet-name>
    <url-pattern>/siteAdmin</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>SiteAdminController</servlet-name>
    <url-pattern>/siteAdmin.jsp</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>EmptyController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.EmptyController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>EmptyController</servlet-name>
    <url-pattern>/login</url-pattern>
  </servlet-mapping>
      
  <servlet>
    <servlet-name>RevisionInfoController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.RevisionInfoController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>RevisionInfoController</servlet-name>
    <url-pattern>/revisionInfo</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>ImageUploadController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.ImageUploadController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ImageUploadController</servlet-name>
    <url-pattern>/uploadImages</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>FlagUpdateController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.FlagUpdateController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>FlagUpdateController</servlet-name>
    <url-pattern>/flagUpdate</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>SitemapIndexController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.SitemapIndexController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>SitemapIndexController</servlet-name>
    <url-pattern>/sitemap.xml</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>RDFUploadFormController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.jena.RDFUploadFormController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>RDFUploadFormController</servlet-name>
    <url-pattern>/uploadRDFForm</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>RDFUploadController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.jena.RDFUploadController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>RDFUploadController</servlet-name>
    <url-pattern>/uploadRDF</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>JenaIngestController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.jena.JenaIngestController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>JenaIngestController</servlet-name>
    <url-pattern>/ingest</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>JenaCsv2RdfController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.jena.JenaCsv2RdfController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>JenaCsv2RdfController</servlet-name>
    <url-pattern>/csv2rdf</url-pattern>
  </servlet-mapping>
  

  <servlet>
    <servlet-name>JenaExportController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.jena.JenaExportController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>JenaExportController</servlet-name>
    <url-pattern>/export/*</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>JenaXMLFileUpload</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.jena.JenaXMLFileUpload</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>JenaXMLFileUpload</servlet-name>
    <url-pattern>/jenaXmlFileUpload/*</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>OwlImportController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.owl.OwlImportController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>OwlImportController</servlet-name>
    <url-pattern>/owl</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>OwlImportServlet</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.owl.ProtegeOwlImportServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>OwlImportServlet</servlet-name>
    <url-pattern>/importOwl</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>JenaAdminServlet</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.jena.JenaAdminActions</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>JenaAdminServlet</servlet-name>
    <url-pattern>/jenaAdmin</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>EditFrontController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vedit.controller.EditFrontController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>EditFrontController</servlet-name>
    <url-pattern>/editForm</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>OperationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vedit.controller.OperationController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>OperationController</servlet-name>
    <url-pattern>/doEdit</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>EntityEditController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.EntityEditController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>EntityEditController</servlet-name>
    <url-pattern>/entityEdit</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>VclassEditController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.VclassEditController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>VclassEditController</servlet-name>
    <url-pattern>/vclassEdit</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>Classes2ClassesOperationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.Classes2ClassesOperationController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>Classes2ClassesOperationController</servlet-name>
    <url-pattern>/classes2ClassesOp</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>Properties2PropertiesOperationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.Properties2PropertiesOperationController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>Properties2PropertiesOperationController</servlet-name>
    <url-pattern>/props2PropsOp</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>NamespacePrefixOperationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.NamespacePrefixOperationController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>NamespacePrefixOperationController</servlet-name>
    <url-pattern>/namespacePrefixOp</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>RefactorOperationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.RefactorOperationController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>RefactorOperationController</servlet-name>
    <url-pattern>/refactorOp</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>IndividualTypeOperationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.IndividualTypeOperationController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>IndividualTypeOperationController</servlet-name>
    <url-pattern>/individualTypeOp</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>DatapropEditController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.DatapropEditController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>DatapropEditController</servlet-name>
    <url-pattern>/datapropEdit</url-pattern>
  </servlet-mapping>

  <servlet>

    <servlet-name>KeywordEditController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.KeywordEditController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>KeywordEditController</servlet-name>
    <url-pattern>/keywordEdit</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>OntologyEditController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.OntologyEditController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>OntologyEditController</servlet-name>
    <url-pattern>/ontologyEdit</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>PropertyEditController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.PropertyEditController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>PropertyEditController</servlet-name>
    <url-pattern>/propertyEdit</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>EntityRetryController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.EntityRetryController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>EntityRetryController</servlet-name>
    <url-pattern>/entity_retry</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>VclassRetryController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.VclassRetryController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>VclassRetryController</servlet-name>
    <url-pattern>/vclass_retry</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>DatatypeRetryController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.DatatypeRetryController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>DatatypeRetryController</servlet-name>
    <url-pattern>/datatype_retry</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>AllClassGroupsListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.AllClassGroupsListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>AllClassGroupsListingController</servlet-name>
    <url-pattern>/listGroups</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>PropertyGroupsListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.PropertyGroupsListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>PropertyGroupsListingController</servlet-name>
    <url-pattern>/listPropertyGroups</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>OntologiesListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.OntologiesListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>OntologiesListingController</servlet-name>
    <url-pattern>/listOntologies</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>NamespacesListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.jena.NamespacesListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>NamespacesListingController</servlet-name>
    <url-pattern>/listNamespaces</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>RestrictionsListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.jena.RestrictionsListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>RestrictionsListingController</servlet-name>
    <url-pattern>/listRestrictions</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>RestrictionOperationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.RestrictionOperationController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>RestrictionOperationController</servlet-name>
    <url-pattern>/addRestriction</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>AccountsAdmin</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.accounts.admin.UserAccountsAdminController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>AccountsAdmin</servlet-name>
    <url-pattern>/accountsAdmin/*</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>AccountsAjax</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.accounts.admin.ajax.UserAccountsAjaxController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>AccountsAjax</servlet-name>
    <url-pattern>/accountsAjax/*</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>AccountsUser</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.accounts.user.UserAccountsUserController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>AccountsUser</servlet-name>
    <url-pattern>/accounts/*</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>ShowAuth</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.admin.ShowAuthController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ShowAuth</servlet-name>
    <url-pattern>/admin/showAuth</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>StatementChangeListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.jena.StatementChangeListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>StatementChangeListingController</servlet-name>
    <url-pattern>/statementHistory</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>WriteOutChangesController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.jena.WriteOutChangesController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>WriteOutChangesController</servlet-name>
    <url-pattern>/writeOutChanges</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>VClassWebappsListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.VClassWebappsListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>VClassWebappsListingController</servlet-name>
    <url-pattern>/listVClassWebapps</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>IndividualsListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.IndividualsListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>IndividualsListingController</servlet-name>
    <url-pattern>/listIndividuals</url-pattern>
  </servlet-mapping>


  <servlet>
    <servlet-name>ClassHierarchyListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.ClassHierarchyListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ClassHierarchyListingController</servlet-name>
    <url-pattern>/showClassHierarchy</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>ObjectPropertyHierarchyListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.ObjectPropertyHierarchyListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ObjectPropertyHierarchyListingController</servlet-name>
    <url-pattern>/showObjectPropertyHierarchy</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>DataPropertyHierarchyListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.DataPropertyHierarchyListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>DataPropertyHierarchyListingController</servlet-name>
    <url-pattern>/showDataPropertyHierarchy</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>PropertyWebappsListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.PropertyWebappsListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>PropertyWebappsListingController</servlet-name>
    <url-pattern>/listPropertyWebapps</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>DatatypePropertiesListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.DatatypePropertiesListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>DatatypePropertiesListingController</servlet-name>
    <url-pattern>/listDatatypeProperties</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>DataPropertyStatementListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.DataPropertyStatementListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>DataPropertyStatementListingController</servlet-name>
    <url-pattern>/listDataPropertyStatements</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>ObjectPropertyStatementListingController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.listing.ObjectPropertyStatementListingController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ObjectPropertyStatementListingController</servlet-name>
    <url-pattern>/listObjectPropertyStatements</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>IndividualListController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.IndividualListController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>IndividualListController</servlet-name>
    <url-pattern>/individuallist</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>IndividualListRdf</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.IndividualListRdfController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>IndividualListRdf</servlet-name>
    <url-pattern>/listrdf/*</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>SearchController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.search.controller.PagedSearchController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>SearchController</servlet-name>
    <url-pattern>/search</url-pattern>
  </servlet-mapping>
  
  <!-- for now, need to make sure the links on CALS' site doesn't break -->
  <servlet-mapping>
    <servlet-name>SearchController</servlet-name>
    <url-pattern>/search.jsp</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>SearchController</servlet-name>
    <url-pattern>/fedsearch</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>SearchController</servlet-name>
    <url-pattern>/searchcontroller</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>AutocompleteController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.search.controller.AutocompleteController</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>AutocompleteController</servlet-name>
    <url-pattern>/autocomplete</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>AutocompleteController</servlet-name>
    <url-pattern>/populateselect</url-pattern>
  </servlet-mapping>
 
  <servlet>
    <servlet-name>ReorderController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.ReorderController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ReorderController</servlet-name>
    <url-pattern>/edit/reorder</url-pattern>
  </servlet-mapping>
   
  <servlet>
    <servlet-name>AdminController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.AdminController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>AdminController</servlet-name>
    <url-pattern>/adminCon</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>TermsOfUseController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.TermsOfUseController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>TermsOfUseController</servlet-name>
    <url-pattern>/termsOfUse</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>ContactFormController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.ContactFormController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ContactFormController</servlet-name>
    <url-pattern>/contact</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>JSON Service</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.JsonServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>JSON Service</servlet-name>
    <url-pattern>/dataservice</url-pattern>
  </servlet-mapping>

  <!-- Google Refine servlets begins -->

  <servlet>
    <servlet-name>JSON Reconcile Service</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.grefine.JSONReconcileServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>JSON Reconcile Service</servlet-name>
    <url-pattern>/reconcile</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>Google Refine Property List Service</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.grefine.GrefinePropertyListServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>Google Refine Property List Service</servlet-name>
    <url-pattern>/get_properties_of_type</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>Google Refine Mqlread Service</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.grefine.GrefineMqlreadServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>Google Refine Mqlread Service</servlet-name>
    <url-pattern>/grefineMqlread</url-pattern>
  </servlet-mapping>

  <!-- Google Refine servlets ends -->

  <servlet>
    <servlet-name>HomePageController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.HomePageController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>HomePageController</servlet-name>
    <url-pattern>/home</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>DashboardPropertyListController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.DashboardPropertyListController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>DashboardPropertyListController</servlet-name>
    <url-pattern>/dashboardPropList</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>dwr-invoker</servlet-name>
    <servlet-class>uk.ltd.getahead.dwr.DWRServlet</servlet-class>
    <init-param>
      <param-name>debug</param-name>
      <param-value>true</param-value>
    </init-param>
    <init-param>
      <param-name>logLevel</param-name>
      <param-value>DEBUG</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>dwr-invoker</servlet-name>
    <url-pattern>/dwr/*</url-pattern>
  </servlet-mapping>
  
  <servlet>
   <servlet-name>sendMail</servlet-name>
   <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.ContactMailController</servlet-class>
   <load-on-startup>5</load-on-startup>
  </servlet>
  <servlet-mapping>
    <servlet-name>sendMail</servlet-name>
    <url-pattern>/submitFeedback</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>mailusers</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.MailUsersServlet</servlet-class>
     <load-on-startup>5</load-on-startup>
  </servlet>
  
  <servlet>
    <servlet-name>ontology</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.OntologyController</servlet-class>
  </servlet>
  
  <servlet>
    <servlet-name>individual</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.IndividualController</servlet-class>
  </servlet>

  <servlet>
    <servlet-name>authenticate</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.Authenticate</servlet-class>
  </servlet>

  <servlet>
    <servlet-name>loginExternalAuthSetup</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.authenticate.LoginExternalAuthSetup</servlet-class>
  </servlet>

  <servlet>
    <servlet-name>loginExternalAuthReturn</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.authenticate.LoginExternalAuthReturn</servlet-class>
  </servlet>

  <servlet>
    <servlet-name>programLogin</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.authenticate.ProgramLogin</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>programLogin</servlet-name>
    <url-pattern>/programLogin</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>adminLogin</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.authenticate.AdminLoginController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>adminLogin</servlet-name>
    <url-pattern>/admin/login</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>friend</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.authenticate.FriendController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>friend</servlet-name>
    <url-pattern>/admin/friend</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>logout</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.Logout</servlet-class>
  </servlet>

 <!-- THIS SHOULD BE COMMENTED OUT FOR PRODUCTION 
  <servlet>
    <servlet-name>FakeExternalAuthController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.authenticate.FakeExternalAuthController</servlet-class>
    <load-on-startup />
  </servlet>
  <servlet-mapping>
    <servlet-name>FakeExternalAuthController</servlet-name>
    <url-pattern>/admin/fakeExternalAuth</url-pattern>
  </servlet-mapping>
-->
 
  <servlet>
    <servlet-name>browsecontroller</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.BrowseController</servlet-class>
    <load-on-startup>5</load-on-startup>
  </servlet>
  <servlet-mapping>
    <servlet-name>browsecontroller</servlet-name>
    <url-pattern>/browse</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>pubsbyorg</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.vclass.PubsByDepartmentServlet</servlet-class>
    <init-param>
      <param-name>workspaceDir</param-name>
      <param-value>/usr/local/services/vivo/logs</param-value>
    </init-param>
    <!--load-on-startup>2</load-on-startup-->
  </servlet>

  <servlet>
    <servlet-name>coauthors</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.vclass.CoAuthorServlet</servlet-class>
    <init-param>
      <param-name>workspaceDir</param-name>
      <param-value>/usr/local/services/vivo/logs</param-value>
    </init-param>
    <!--load-on-startup>2</load-on-startup-->
  </servlet>

  <servlet>
    <servlet-name>generic_create</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.GenericDBCreate</servlet-class>
    <!--load-on-startup>2</load-on-startup-->
  </servlet>

  <servlet>
    <servlet-name>serveFiles</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.filestorage.serving.FileServingServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>serveFiles</servlet-name>
    <url-pattern>/file/*</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>generic_editprep</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.GenericDBEditPrep</servlet-class>
  </servlet>

  <servlet>
    <servlet-name>generic_update</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.GenericDBUpdate</servlet-class>
  </servlet>

  <servlet>
    <servlet-name>generic_delete</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.GenericDBDelete</servlet-class>
  </servlet>

  <servlet>
    <servlet-name>SparqlQuery</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.SparqlQueryServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>SparqlQuery</servlet-name>
    <url-pattern>/admin/sparqlquery</url-pattern>
  </servlet-mapping>
  

  <!--  
   <servlet>
    <servlet-name>VisualizationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.visualization.VisualizationController</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>VisualizationController</servlet-name>
    <url-pattern>/visualization</url-pattern>
  </servlet-mapping>
  
  -->

   <servlet>
    <servlet-name>StandardVisualizationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.visualization.StandardVisualizationController</servlet-class>
   </servlet>
   
  <servlet>
    <servlet-name>ShortURLVisualizationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.visualization.ShortURLVisualizationController</servlet-class>
  </servlet>   

  <servlet-mapping>
    <servlet-name>StandardVisualizationController</servlet-name>
    <url-pattern>/visualizationfm</url-pattern>
  </servlet-mapping>

  <servlet-mapping>
    <servlet-name>StandardVisualizationController</servlet-name>
    <url-pattern>/visualization</url-pattern>
  </servlet-mapping>
  
  <!--
	This mapping is done to facilitate shorter vis urls.  
  -->
  <servlet-mapping>
    <servlet-name>ShortURLVisualizationController</servlet-name>
    <url-pattern>/vis/*</url-pattern>
  </servlet-mapping>

   <servlet>
    <servlet-name>AjaxVisualizationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.visualization.AjaxVisualizationController</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>AjaxVisualizationController</servlet-name>
    <url-pattern>/visualizationAjax</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>DataVisualizationController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.visualization.DataVisualizationController</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>DataVisualizationController</servlet-name>
    <url-pattern>/visualizationData</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>authtest</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.auth.AuthTestController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>authtest</servlet-name>
    <url-pattern>/authtest</url-pattern>
  </servlet-mapping>

  <servlet>
  	<servlet-name>primitiveRdfEdit</servlet-name>
  	<servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.PrimitiveRdfEdit</servlet-class>  	
  </servlet>
  <servlet-mapping>
    <servlet-name>primitiveRdfEdit</servlet-name>
    <url-pattern>/edit/primitiveRdfEdit</url-pattern>    
  </servlet-mapping>

  <servlet>
    <servlet-name>primitiveDelete</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.edit.PrimitiveDelete</servlet-class>    
  </servlet>
  <servlet-mapping>
    <servlet-name>primitiveDelete</servlet-name>
    <url-pattern>/edit/primitiveDelete</url-pattern>    
  </servlet-mapping>
 
  <servlet>
    <servlet-name>PageController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.freemarker.PageController</servlet-class>    
  </servlet>
  <!--  PageController lacks a servlet-mapping since it gets called by getNamedDispatcher 
  <servlet-mapping>
    <servlet-name>PageController</servlet-name>
    <url-pattern>NONE</url-pattern>    
  </servlet-mapping>
  -->

  <servlet>
    <servlet-name>ExportQrCodeController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.ExportQrCodeController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ExportQrCodeController</servlet-name>
    <url-pattern>/qrcode</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>AboutQrCodesController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.AboutQrCodesController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>AboutQrCodesController</servlet-name>
    <url-pattern>/qrcode/about</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>FileHarvestController</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.harvester.FileHarvestController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>FileHarvestController</servlet-name>
    <url-pattern>/harvester/harvest</url-pattern>
  </servlet-mapping>

    
  <!-- ============================== servlet-mappings ======================== -->
  <servlet-mapping>
    <servlet-name>fetch</servlet-name>
    <url-pattern>/fetch</url-pattern>
  </servlet-mapping>
   <servlet-mapping>
    <servlet-name>mailusers</servlet-name>
    <url-pattern>/mailusers</url-pattern>
  </servlet-mapping>
  
   <servlet-mapping>
    <servlet-name>ontology</servlet-name>
    <url-pattern>/ontology/*</url-pattern>
  </servlet-mapping>
    
  <servlet-mapping>
    <servlet-name>individual</servlet-name>
    <url-pattern>/entity</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>individual</servlet-name>
    <url-pattern>/entity/*</url-pattern>
  </servlet-mapping>
    <servlet-mapping>
    <servlet-name>individual</servlet-name>
    <url-pattern>/individual</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>individual</servlet-name>
    <url-pattern>/individual/*</url-pattern>
  </servlet-mapping>
    <servlet-mapping>
    <servlet-name>individual</servlet-name>
    <url-pattern>/display</url-pattern>
  </servlet-mapping> 
  <servlet-mapping>
    <servlet-name>individual</servlet-name>
    <url-pattern>/display/*</url-pattern>
  </servlet-mapping>    

  <servlet-mapping>
    <servlet-name>authenticate</servlet-name>
    <url-pattern>/authenticate</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>loginExternalAuthSetup</servlet-name>
    <url-pattern>/loginExternalAuth</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>loginExternalAuthReturn</servlet-name>
    <url-pattern>/loginExternalAuthReturn</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>logout</servlet-name>
    <url-pattern>/logout</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>pubsbyorg</servlet-name>
    <url-pattern>/pubsbyorg</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>coauthors</servlet-name>
    <url-pattern>/coauthors</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>generic_create</servlet-name>
    <url-pattern>/generic_create</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>generic_editprep</servlet-name>
    <url-pattern>/generic_editprep</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>generic_update</servlet-name>
    <url-pattern>/generic_update</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>generic_delete</servlet-name>
    <url-pattern>/generic_delete</url-pattern>
  </servlet-mapping>

  <!-- ==================== sparql query builder ==================== -->
  
  <servlet>
    <servlet-name>SparlQueryBuilder</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.controller.SparqlQueryBuilderServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>SparlQueryBuilder</servlet-name>
    <url-pattern>/admin/sparqlquerybuilder</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>GetAllClasses</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.sparql.GetAllClasses</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>GetAllClasses</servlet-name>
    <url-pattern>/admin/getAllClasses</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>GetAllPrefix</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.sparql.GetAllPrefix</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>GetAllPrefix</servlet-name>
    <url-pattern>/admin/getAllPrefix</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>GetClazzDataProperties</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.sparql.GetClazzDataProperties</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>GetClazzDataProperties</servlet-name>
    <url-pattern>/admin/getClazzDataProperties</url-pattern>
  </servlet-mapping>

  <servlet>
    <servlet-name>GetClazzAllProperties</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.sparql.GetClazzAllProperties</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>GetClazzAllProperties</servlet-name>
    <url-pattern>/admin/getClazzAllProperties</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>GetClazzObjectProperties</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.sparql.GetClazzObjectProperties</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>GetClazzObjectProperties</servlet-name>
    <url-pattern>/admin/getClazzObjectProperties</url-pattern>
  </servlet-mapping>
  
  <servlet>
    <servlet-name>GetObjectClasses</servlet-name>
    <servlet-class>edu.cornell.mannlib.vitro.webapp.sparql.GetObjectClasses</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>GetObjectClasses</servlet-name>
    <url-pattern>/admin/getObjectClasses</url-pattern>
  </servlet-mapping>

  <!-- ==================== tag libraries ============================== -->
  <jsp-config>
    <taglib>
      <taglib-uri>/WEB-INF/tlds/database.tld</taglib-uri>
      <taglib-location>/WEB-INF/tlds/database.tld</taglib-location>
    </taglib>

    <taglib>
      <taglib-uri>http://java.sun.com/jstl/core</taglib-uri>
      <taglib-location>/WEB-INF/tlds/c.tld</taglib-location>
    </taglib>

    <taglib>
      <taglib-uri>http://java.sun.com/jstl/functions</taglib-uri>
      <taglib-location>/WEB-INF/tlds/fn.tld</taglib-location>
    </taglib>

    <taglib>
      <taglib-uri>http://vitro.mannlib.cornell.edu/edit/tags</taglib-uri>
      <taglib-location>/WEB-INF/tlds/form.tld</taglib-location>
    </taglib>

    <taglib>
      <taglib-uri>http://vitro.mannlib.cornell.edu/vitro/tags</taglib-uri>
      <taglib-location>/WEB-INF/tlds/vitroForm.tld</taglib-location>
    </taglib>

    <taglib>
      <taglib-uri>http://mannlib.cornell.edu/vitro/ListSparqlTag/0.1/</taglib-uri>
      <taglib-location>/WEB-INF/tlds/ListSparqlTag.tld</taglib-location>
    </taglib>

    <taglib>
      <taglib-uri>http://jakarta.apache.org/taglibs/string-1.1</taglib-uri>
      <taglib-location>/WEB-INF/tlds/taglibs-string.tld</taglib-location>
    </taglib>
  </jsp-config>

  <!-- ==================== error pages ================================ -->
  <!-- 	<error-page>
 -->
  <!-- 		<error-code>404</error-code>
 -->
  <!-- 		<location>/templates/error/error404.jsp</location>
 -->
  <!-- 	</error-page>
 -->

  
</web-app>
